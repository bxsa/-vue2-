"use strict";(self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[]).push([[916],{916:function(a,t,s){s.r(t),s.d(t,{default:function(){return g}});var e=function(){var a=this,t=a._self._c;return t("div",[t("TypeNav"),t("div",{staticClass:"main"},[t("div",{staticClass:"py-container"},[t("div",{staticClass:"bread"},[a._m(0),t("ul",{staticClass:"fl sui-tag"},[a.searchparams.categoryName?t("li",{staticClass:"with-x"},[a._v(" "+a._s(this.searchparams.categoryName)+" "),t("i",{on:{click:a.removecategoryName}},[a._v("x")])]):a._e(),a.searchparams.keyword?t("li",{staticClass:"with-x"},[a._v(" "+a._s(this.searchparams.keyword)+" "),t("i",{on:{click:a.removekeyword}},[a._v("x")])]):a._e(),a.searchparams.trademark?t("li",{staticClass:"with-x"},[a._v(" "+a._s(this.searchparams.trademark.split(":")[1])+" "),t("i",{on:{click:a.removetrademark}},[a._v("x")])]):a._e(),a._l(a.searchparams.props,(function(s,e){return t("li",{key:e,staticClass:"with-x"},[a._v(" "+a._s(s.split(":")[1])+" "),t("i",{on:{click:a.removeprops}},[a._v("x")])])}))],2)]),t("SearchSelector",{on:{tradeMarkinfo:a.tradeMarkinfo,attrInfo:a.attrInfo}}),t("div",{staticClass:"details clearfix"},[t("div",{staticClass:"sui-navbar"},[t("div",{staticClass:"navbar-inner filter"},[t("ul",{staticClass:"sui-nav"},[t("li",{class:{active:a.isone},on:{click:function(t){return a.changeorder(1)}}},[t("a",[a._v("综合"),t("span",{directives:[{name:"show",rawName:"v-show",value:a.isone,expression:"isone"}],staticClass:"iconfont",class:{"icon-arrowup":a.isasc,"icon-down":a.isdesc}})])]),t("li",{class:{active:a.istwo},on:{click:function(t){return a.changeorder(2)}}},[t("a",[a._v("销量"),t("span",{directives:[{name:"show",rawName:"v-show",value:a.istwo,expression:"istwo"}],staticClass:"iconfont",class:{"icon-arrowup":a.isasc,"icon-down":a.isdesc}})])])])])]),t("div",{staticClass:"goods-list"},[t("ul",{staticClass:"yui3-g"},a._l(a.goodsList,(function(s,e){return t("li",{key:a.goodsList.id,staticClass:"yui3-u-1-5"},[t("div",{staticClass:"list-wrap"},[t("div",{staticClass:"p-img"},[t("router-link",{attrs:{to:`/Detail/${s.id}`}},[t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.defaultImg,expression:"good.defaultImg"}]})])],1),t("div",{staticClass:"price"},[t("strong",[t("em",[a._v("¥")]),t("i",[a._v(a._s(s.price)+".00")])])]),t("div",{staticClass:"attr"},[t("a",{attrs:{target:"_blank",href:"item.html",title:"促销信息，下单即赠送三个月CIBN视频会员卡！【小米电视新品4A 58 火爆预约中】"}},[a._v(" "+a._s(s.title))])]),a._m(1,!0),a._m(2,!0)])])})),0)]),t("Pagination",{attrs:{total:a.total,pageNo:a.searchparams.pageNo,pageSize:a.searchparams.pageSize,continues:5},on:{getpageno:a.getpageno}})],1)],1)])],1)},r=[function(){var a=this,t=a._self._c;return t("ul",{staticClass:"fl sui-breadcrumb"},[t("li",[t("a",{attrs:{href:"#"}},[a._v("全部结果")])])])},function(){var a=this,t=a._self._c;return t("div",{staticClass:"commit"},[t("i",{staticClass:"command"},[a._v("已有"),t("span",[a._v("2000")]),a._v("人评价")])])},function(){var a=this,t=a._self._c;return t("div",{staticClass:"operate"},[t("a",{staticClass:"sui-btn btn-bordered btn-danger",attrs:{href:"success-cart.html",target:"_blank"}},[a._v("加入购物车")]),t("a",{staticClass:"sui-btn btn-bordered",attrs:{href:"javascript:void(0);"}},[a._v("收藏")])])}],i=function(){var a=this,t=a._self._c;return t("div",{staticClass:"clearfix selector"},[t("div",{staticClass:"type-wrap logo"},[t("div",{staticClass:"fl key brand"},[a._v("品牌")]),t("div",{staticClass:"value logos"},[t("ul",{staticClass:"logo-list"},a._l(a.trademarkList,(function(s,e){return t("li",{key:s.tmId,on:{click:function(t){return a.tradeMatkHandler(s)}}},[a._v(" "+a._s(s.tmName)+" ")])})),0)]),a._m(0)]),a._l(a.attrsList,(function(s,e){return t("div",{key:s.attrId,staticClass:"type-wrap"},[t("div",{staticClass:"fl key"},[a._v(a._s(s.attrName))]),t("div",{staticClass:"fl value"},[t("ul",{staticClass:"type-list"},a._l(s.attrValueList,(function(e,r){return t("li",{key:r,on:{click:function(t){return a.attrInfo(s,e)}}},[t("a",[a._v(a._s(e))])])})),0)]),t("div",{staticClass:"fl ext"})])}))],2)},c=[function(){var a=this,t=a._self._c;return t("div",{staticClass:"ext"},[t("a",{staticClass:"sui-btn",attrs:{href:"javascript:void(0);"}},[a._v("多选")]),t("a",{attrs:{href:"javascript:void(0);"}},[a._v("更多")])])}],o=s(3822),n={name:"SearchSelector",computed:{...(0,o.Se)(["trademarkList","attrsList"])},methods:{tradeMatkHandler(a){this.$emit("tradeMarkinfo",a)},attrInfo(a,t){this.$emit("attrInfo",a,t)}}},l=n,d=s(1001),h=(0,d.Z)(l,i,c,!1,null,"cd3bce92",null),m=h.exports,p={name:"Search",data(){return{searchparams:{category1id:"",category2id:"",category3id:"",categoryName:"",keyword:"",order:"1:desc",pageNo:5,pageSize:3,props:[],trademark:""}}},beforeMount(){Object.assign(this.searchparams,this.$route.query,this.$route.params)},mounted(){this.getData()},components:{SearchSelector:m},computed:{...(0,o.Se)(["goodsList","attrsList","trademarkList"]),isone(){return-1!=this.searchparams.order.indexOf("1")},istwo(){return-1!=this.searchparams.order.indexOf("2")},isasc(){return-1!=this.searchparams.order.indexOf("asc")},isdesc(){return-1!=this.searchparams.order.indexOf("desc")},...(0,o.rn)({total:a=>a.search.searchList.total})},methods:{getpageno(a){this.searchparams.pageNo=a,this.getData()},changeorder(a){this.searchparams.order;let t=this.searchparams.order.split(":")[0],s=this.searchparams.order.split(":")[1],e="";e=a==t?`${t}:${"desc"==s?"asc":"desc"}`:`${a}:desc`,this.searchparams.order=e,this.getData()},attrInfo(a,t){let s=`${a.attrId}:${t}:${a.attrName}`;-1==this.searchparams.props.indexOf(s)&&this.searchparams.props.push(s),this.getData()},tradeMarkinfo(a){this.searchparams.trademark=`${a.tmId}:${a.tmName}`,this.getData()},getData(){this.$store.dispatch("getSearchList",this.searchparams)},removeprops(a){this.searchparams.props.splice(a,1),this.getData()},removecategoryName(){this.searchparams.categoryName=void 0,this.searchparams.category1id=void 0,this.searchparams.category2id=void 0,this.searchparams.category3id=void 0,this.getData(),this.$route.params&&this.$router.push({name:"Search",params:this.$route.params})},removekeyword(){this.searchparams.keyword=void 0,this.getData(),this.$bus.$emit("clear"),this.$route.query&&this.$router.push({name:"Search",query:this.$route.query})},removetrademark(){this.searchparams.trademark=void 0,this.getData()}},watch:{$route(a,t){Object.assign(this.searchparams,this.$route.query,this.$route.params),this.getData(),this.searchparams.category1id=void 0,this.searchparams.category2id=void 0,this.searchparams.category3id=void 0}}},u=p,v=(0,d.Z)(u,e,r,!1,null,"19033674",null),g=v.exports}}]);